<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>POS System with Inventory</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Login Container -->
  <div class="login-container" id="login-container">
    <h2>POS Login</h2>
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <button onclick="checkLogin()">Login</button>
    <p id="login-error"></p>
  </div>

  <!-- Store Selection -->
  <div class="store-selection" id="store-selection" style="display: none;">
    <h2>Select Store</h2>
    <button onclick="selectStore('store1')">One Stop</button>
    <button onclick="selectStore('store2')">Golden</button>
  </div>

  <!-- POS Interface -->
  <div class="pos-container" id="pos-container" style="display: none;">
    <h2 id="store-name">POS System</h2>
    
    <div class="inventory-controls">
      <button onclick="showRestockDialog()">Restock Items</button>
      <button onclick="showInventoryReport()">Inventory Report</button>
    </div>

    <form id="sale-form">
      <div class="form-row">
        <input type="text" id="item" placeholder="Search Item" list="item-list" required>
        <datalist id="item-list"></datalist>
        <span id="stock-display"></span>
      </div>

      <div class="form-row">
        <select id="unit" required>
          <option value="pc">Piece (Pc)</option>
          <option value="dz">Dozen (Dz)</option>
          <option value="ct">Carton (Ct)</option>
        </select>
      </div>

      <div class="form-row">
        <input type="number" id="quantity" placeholder="Quantity" min="1" required>
      </div>

      <div class="form-row">
        <input type="number" id="price" placeholder="Price" readonly>
      </div>

      <div class="form-row">
        <label>Discount:</label>
        <input type="number" id="discount" value="0" min="0">
      </div>

      <div class="form-row">
        <label>Extra Charges:</label>
        <input type="number" id="extra" value="0" min="0">
      </div>

      <div class="form-row">
        <label>Payment Method:</label>
        <select id="payment-method">
          <option value="Cash">Cash</option>
          <option value="Mpesa">Mpesa</option>
          <option value="Bank">Bank</option>
        </select>
      </div>

      <div class="form-row">
        <input type="text" id="total" placeholder="Total" readonly>
      </div>

      <div class="form-row">
        <button type="submit">Add to Sale</button>
      </div>
      <!-- Below the item input field -->
<div class="form-row">
  <label>Item Search:</label>
  <div style="display: flex; align-items: center;">
    <input type="text" id="item" list="item-list" placeholder="Search item...">
    <span id="stock-display" style="margin-left: 10px;">Stock: -</span>
  </div>
</div>

<!-- Action Buttons -->
<div class="button-group">
  <button onclick="restockItem()" class="restock-btn">
    <i class="fas fa-boxes"></i> Restock Item
  </button>
  <button onclick="generateReport()" class="report-btn">
    <i class="fas fa-file-alt"></i> Inventory Report
  </button>
</div>
    </form>

    <!-- Sales Table -->
    <table id="sales-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Item (Stock)</th>
          <th>Unit</th>
          <th>Qty</th>
          <th>Price</th>
          <th>Total</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <div class="form-row">
      <button id="submit-all-btn" onclick="submitAllSales()">Submit All Sales</button>
      <button id="clear-all-btn" onclick="clearAllSales()">Clear All</button>
    </div>
  </div>

  <!-- Restock Dialog -->
  <div id="restock-dialog" class="modal">
    <div class="modal-content">
      <h3>Restock Items</h3>
      <select id="restock-item">
        <option value="">Select Item</option>
      </select>
      <input type="number" id="restock-qty" placeholder="Quantity" min="1">
      <button onclick="processRestock()">Confirm Restock</button>
      <button onclick="hideRestockDialog()">Cancel</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>

